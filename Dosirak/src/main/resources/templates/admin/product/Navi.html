<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>안내 정보</title>    <th:block th:replace="/admin/common/head.html"></th:block>

</head>
<body><th:block th:replace="/admin/common/header.html"></th:block>

<h1>안내 정보</h1>

<div id="infoContainer">    <th:block th:replace="/admin/common/sideNav.html"></th:block>

    <!-- 최초 한 개의 행 -->
    <div class="infoRow">
        <input type="text" class="titleInput" placeholder="제목">
        <input type="text" class="contentInput" placeholder="내용">
        <button class="removeButton" onclick="removeRow(this)">삭제</button>
    </div>
</div>

<button id="addButton" onclick="addRow()">추가</button>

<script>
    function addRow() {
        var container = document.getElementById("infoContainer");
        var newRow = document.createElement("div");
        newRow.classList.add("infoRow");
        newRow.innerHTML = `
                <input type="text" class="titleInput" placeholder="제목">
                <input type="text" class="contentInput" placeholder="내용">
                <button class="removeButton" onclick="removeRow(this)">삭제</button>
            `;
        container.appendChild(newRow);
    }

    function removeRow(button) {
        button.parentNode.remove();
    }
    function exportData() {
        var infoContainer = document.getElementById("infoContainer");
        var rows = infoContainer.getElementsByClassName("infoRow");
        var exportedData = "";

        var currentTitle = ""; // 현재 처리 중인 제목
        var currentContent = ""; // 현재 처리 중인 내용

        for (var i = 0; i < rows.length; i++) {
            var title = rows[i].getElementsByClassName("titleInput")[0].value;
            var content = rows[i].getElementsByClassName("contentInput")[0].value;

            // 현재 처리 중인 제목과 동일한 경우 내용을 계속 추가
            if (title === currentTitle) {
                currentContent += "                                " + content + "\n";
            } else { // 새로운 제목인 경우 이전 내용을 출력하고 새로운 제목과 내용을 설정
                if (currentTitle !== "") { // 이전 내용이 존재할 경우 출력
                    exportedData += currentTitle + "\n";
                    exportedData += currentContent + "\n\n";
                }
                currentTitle = title;
                currentContent = content + "\n";
            }
        }

        // 마지막으로 처리되지 않은 내용을 출력
        if (currentTitle !== "") {
            exportedData += currentTitle + "\n";
            exportedData += currentContent + "\n\n";
        }

        // 내보낼 데이터 반환
        return exportedData;
    }

    // 예시 데이터를 내보내는 예시
    console.log(exportData());

</script>
<th:block th:replace="/admin/common/foot.html"></th:block>

</body>
</html>
