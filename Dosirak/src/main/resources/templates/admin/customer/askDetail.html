<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>1대1 문의 상세페이지</title>
    <th:block th:replace="~{/admin/common/head.html}"></th:block>
</head>
<body class="sb-nav-fixed">
<th:block th:replace="~{/admin/common/header.html}"></th:block>
<div id="layoutSidenav">
    <th:block th:replace="~{/admin/common/sideNav.html}"></th:block>
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <h2 class="mt-4">1대1 문의 답변 등록</h2>
                <table class="datatable-table mt-4">
                    <colgroup>
                        <col style="width:15%"/>
                        <col style="width:15%"/>
                        <col style=""/>
                        <col style=""/>
                    </colgroup>
                    <tbody>
                    <tr>
                        <th scope="row">문의코드</th>
                        <td th:text="${ ask.askCode }"></td>
                        <th scope="row">회원아이디</th>
                        <td th:text="${ ask.userId }"></td>
                    </tr>
                    <!-- // 원래 등록된 글 클릭해서 입장시 -->
                    <tr>
                        <th scope="row">문의분류</th>
                        <td th:field="*{ ask.askCategoryCode }">
                            <!-- 답변 있을 시 -->
                            <div th:if="${ answer != null }">
                                <span th:text="${ ask.askCategoryCode }"></span>
                            </div>
                            <!-- 답변 없을 시 -->
                            <div th:if="${ answer == null }">
                                <label>
<!--                                    <select>-->
<!--                                        <option th:each="category : ${ askCategory }"-->
<!--                                                th:text="${ category.askCategoryName }"-->
<!--                                                th:value="${ category.askCategoryCode }"-->
<!--                                                th:selected="${ category.askCategoryCode == ask.askCategoryCode }">-->
<!--                                    </select>-->
                                </label>
                            </div>
                        </td>
                        <th scope="row">문의날짜</th>
                        <td th:text="${ ask.askDate }"></td>
                    </tr>
                    <tr>
                        <th scope="row">이미지파일</th>
                        <td colspan="3">
                            이미지 파일 업로드
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">문의제목</th>
                        <!-- 답변 페이지로 이동 -->
                        <td colspan="3" th:text="${ ask.askTitle }"></td>
                    </tr>
                    <tr>
                        <th scope="row">문의내용</th>
                        <td colspan="3" th:text="${ ask.askContent }"></td>
                    </tr>
                    <!-- 답변이 존재하는 경우 DB에 등록된 정보를 표시 -->
                    <div th:if="${ answer != null }">
                        <tr>
                            <!-- 1대1문의 : 1 / 리뷰: 2 -->
                            <th scope="row">답변분류</th>
                            <td>1대1 문의</td>
                            <th scope="row">답변코드</th>
                            <td></td>
                        </tr>
                        <tr>
                            <th scope="row">관리자아이디</th>
                            <td>
                                <span th:text="${ answer.adminId }"></span>
                            </td>
                            <th scope="row">답변날짜</th>
                            <td>
                                <span th:text="${ answer.answerDate }"></span>
                            </td>
                        </tr>
                    </div>
                    <div th:if="${ answer == null }">
                        <span></span>
                    </div>
                    <tr>
                        <th scope="row">답변내용</th>
                        <td colspan="3">
                            <div th:if="${ answer != null }">
                                <!-- 답변이 존재하는 경우 DB에 등록된 답변 내용을 표시 -->
                                <span th:text="${ answer.answerContent }"></span>
                            </div>
                            <div th:if="${ answer == null }">
                                <!-- 답변이 존재하지 않는 경우 텍스트 에어리어 표시 -->
                                <label>
                                    <textarea class="hp_minH300" placeholder="내용 입력" style="width: 800px; height: 300px;"></textarea>
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <!-- 새글 등록시 / 답변 완료시 비활성화 -->
                <div class="editBtn text-end" th:if="${ answer != null }">
                    <button type="button" class="btn btn-secondary" onclick="location.href='/admin/customer/askList'">목록</button>
                </div>
                <div class="editBtn text-end" th:if="${ answer == null }">
                    <button type="button" class="btn btn-primary">등록</button>
                    <button type="button" class="btn btn-secondary" onclick="location.href='/admin/customer/askList'">목록</button>
                </div>
            </div>
        </main>
    </div>
</div>
<th:block th:replace="~{/admin/common/foot.html}"></th:block>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="/js/scripts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
<script src="/js/datatables-simple-demo.js"></script>
</body>
</html>