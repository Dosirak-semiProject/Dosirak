<!DOCTYPE html>
<html lang="en">
<head>
    <title>나의정보</title>
    <th:block th:replace="/user/common/head.html"></th:block>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <script>
        $(function(){
            // 마케팅동의
            let agree = $(".agree").data('agree');
            if(agree == '문자') $("#agreeSms").prop("checked", true);
            if(agree == '이메일') $("#agreeEmail").prop("checked", true);
            // 수정
            $(".editBtn").hide();
            $("input").on("propertychange change keyup paste input", function() {
                $(".editBtn").show();
            })
            // 주소삭제
            $(".deleteBtn").click(function(){
                $("#address1").val("");
                $("#address2").val("");
                $("#address3").val("");
            })
        })
    </script>
</head>
<body>
<div class="ly_all bl_all">
    <th:block th:replace="/user/common/header.html"></th:block>
    <div class="bl_sideMenuBack">
        <div class="ly_maxWD ly_flex">
            <th:block th:replace="/user/common/sideMenu.html"></th:block>
            <div class="ly_inner02 ly_fgrow1 hp_fBack">
                <div class="ly_midWDside">
                    <h2 class="el_lv1Head">나의정보</h2>
                    <p class="hp_mt50 hp_alignR"><span class="hp_pointColor hp_fw700 hp_fs18">*</span> 필수입력 정보</p>
                    <form action="/user/myinfo/form" method="post">
                        <table class="bl_TBView hp_mt5">
                            <caption class="WA">나의 필수정보</caption>
                            <colgroup>
                                <col style="width:150px"/>
                                <col style="width:*%"/>
                                <col style="width:150px"/>
                                <col style="width:*%"/>
                            </colgroup>
                            <tbody>
                            <tr>
                                <th scope="row">이름</th>
                                <td th:text="${member.name}"></td>
                                <th scope="row">아이디</th>
                                <td th:text="${member.id}"></td>
                            </tr>
                            <tr>
                                <th scope="row">생년월일</th>
                                <td th:text="${member.birth}"></td>
                                <th scope="row">성별</th>
                                <td th:text="${member.gender}"></td>
                            </tr>
                            <tr>
                                <th scope="row"><label for="phone">휴대폰번호</label> <span class="hp_pointColor hp_fw700 hp_fs18">*</span></th>
                                <td><input type="text" id="phone" class="hp_w200px" name="phone" th:value="${member.phone}" placeholder="휴대폰번호를 입력해주세요" title="휴대폰번호를 입력해주세요"/></td>
                                <th scope="row">가입날짜</th>
                                <td th:text="${member.joindate}"></td>
                            </tr>
                            <tr>
                                <th scope="row"><label for="email">이메일</label> <span class="hp_pointColor hp_fw700 hp_fs18">*</span></th>
                                <td colspan="3">
                                    <input type="text" id="email" class="hp_w200px" name="email" th:value="${member.email}" placeholder="이메일 입력해주세요" title="이메일 입력"/>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">마케팅동의</th>
                                <td colspan="3" class="agree" th:data-agree="${member.agree}">
                                    <label class="bl_checkBx">
                                        <input type="checkbox" id="agreeSms" class="bl_checkBx__input">
                                        <span class="bl_checkBx__check"></span>
                                        <span class="hp_ml5">문자</span>
                                    </label>
                                    <label class="bl_checkBx hp_ml30">
                                        <input type="checkbox" id="agreeEmail" class="bl_checkBx__input">
                                        <span class="bl_checkBx__check"></span>
                                        <span class="hp_ml5">이메일</span>
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row"><label for="">주소</label></th>
                                <td colspan="3">
                                    <div class="ly_flex v">
                                        <input type="text" id="address1" class="hp_w200px" name="" th:value="${member.address1}" title="우편번호 찾기"/>
                                        <input type="button" id="" class="el_btnS el_btnPointBack hp_ml10" name="" value="우편번호 찾기"/>
                                    </div>
                                    <div class="ly_flex ly_fitemC hp_mt10">
                                        <input type="text" id="address2" class="hp_w100" name="" th:value="${member.address2}" title="주소 입력"/>
                                        <input type="text" id="address3" class="hp_w100 hp_ml10" name=""  th:value="${member.address3}" placeholder="상세주소를 입력해주세요" title="상세주소 입력"/>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <ul class="ly_flexC hp_mt70">
                            <li><a class="el_btnM hp_br5 el_btnPointBack" href="" onclick="alert('나의정보가 수정되었습니다.\n수정된 내용을 저장하시겠습니까?')">수정</a></li>
                            <li><a class="el_btnM hp_br5 el_btn8Bord hp_ml10" href="/user/myinfo/withdrawal">회원탈퇴</a></li>
                        </ul>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="/user/common/footer.html"></th:block>
</div>
</body>
</html>